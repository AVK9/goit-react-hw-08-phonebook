"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[938],{2787:function(e,t,n){n.d(t,{D:function(){return s}});var r="Title_titleh2__liYsx",a=n(184),s=function(e){var t=e.text;return(0,a.jsx)("div",{children:(0,a.jsx)("h2",{className:r,children:t})})}},6446:function(e,t,n){n.d(t,{J:function(){return s}});n(2791);var r=n.p+"static/media/icon.943504fa9313e1e09d77052adada0d5b.svg",a=n(184),s=function(e){var t=e.id,n=e.className;return(0,a.jsx)("svg",{className:n,children:(0,a.jsx)("use",{href:r+"#icon-"+t})})}},4795:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var r=n(9439),a=n(2791),s="ContactForm_formBox__cXiHe",c="ContactForm_formLabel__TSwxK",o="ContactForm_boxInput__zg5w-",u="ContactForm_iconsInput__fs8Qv",i="ContactForm_btnAddContact__AepU1",l="ContactForm_icons__TIJdA",m=n(6446),d=n(8375),h=n(4420),f=n(9085),p=n(3637),x=n(3553),v=function(e){return e.isLoading},_=function(e){return e.error},j=function(e){return e.contacts.contacts},b=(0,x.P1)([j,function(e){return e.filter}],(function(e,t){var n=t.filter;return e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))})),g=n(184);function C(){var e=(0,a.useState)(""),t=(0,r.Z)(e,2),n=t[0],x=t[1],v=(0,a.useState)(""),_=(0,r.Z)(v,2),b=_[0],C=_[1],N=(0,h.I0)(),w=(0,h.v9)(j),I=function(e){var t=e.target,n=t.name,r=t.value;switch(n){case"name":x(r);break;case"number":C(r)}},L=function(e){return w.length&&w.some((function(t){return t.name.toLowerCase()===e.toLowerCase()}))?f.Am.warn("".concat(e," is already in contacts.")):b.length<19?f.Am.warn("Pleasure input number phome"):(N((0,p.j)({name:e,number:b})),console.log("HELLO"),console.log("number :>> "),void k())},k=function(){x(""),C("")};return(0,g.jsx)("div",{children:(0,g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),L(n)},children:[(0,g.jsxs)("div",{className:s,children:[(0,g.jsx)("label",{htmlFor:"Name",className:c,children:"Name"}),(0,g.jsxs)("div",{className:o,children:[(0,g.jsx)("input",{type:"text",name:"name",value:n,onChange:I,required:!0}),(0,g.jsx)(m.J,{id:"user",className:u})]}),(0,g.jsx)("label",{htmlFor:"Number",className:c,children:"Number"}),(0,g.jsxs)("div",{className:o,children:[(0,g.jsx)(d.oc,{type:"tel",name:"number",mask:"+38 (000) 000-00-00",value:b,onChange:I,required:!0}),(0,g.jsx)(m.J,{id:"phone",className:u})]}),(0,g.jsxs)("button",{type:"submit",className:i,children:[(0,g.jsx)(m.J,{id:"user-plus",className:l}),"Add contact"]})]}),(0,g.jsx)("ion-icon",{name:"search"})]})})}var N="ContactList_contactsList__7leRd",w="ContactListItem_buttonDel__z3gDR",I="ContactListItem_contactItem__g+7xP",L="ContactListItem_icons__4nOe9",k=n(5861),F=n(7757),Z=n.n(F),y=n(565),J=n(5294);J.Z.defaults.baseURL="https://659a72e5652b843dea538e7c.mockapi.io";(0,y.hg)("contacts/getContacts",function(){var e=(0,k.Z)(Z().mark((function e(t,n){var r,a,s;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,J.Z.get("/contacts");case 4:return a=e.sent,s=a.data,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",r(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),(0,y.hg)("contacts/addContacts",function(){var e=(0,k.Z)(Z().mark((function e(t,n){var r,a,s;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,J.Z.post("/contacts",t);case 4:return a=e.sent,s=a.data,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",r(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}());var A=(0,y.hg)("contacts/delContacts",function(){var e=(0,k.Z)(Z().mark((function e(t,n){var r,a,s;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,J.Z.delete("/contacts/".concat(t));case 4:return a=e.sent,s=a.data,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",r(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),D=function(e){var t=e.name,n=e.phone,r=e.id,a=(0,h.I0)();return(0,g.jsxs)("li",{className:I,children:[(0,g.jsx)("span",{children:t}),(0,g.jsx)("span",{children:n}),(0,g.jsxs)("button",{className:w,onClick:function(){a(A(r)),console.log(r)},children:[(0,g.jsx)(m.J,{id:"user-minus",className:L}),"Delete"]})]})},S=function(){var e=(0,h.I0)(),t=(0,h.v9)(v),n=(0,h.v9)(_),r=(0,h.v9)(b);return(0,a.useEffect)((function(){e((0,p._)())}),[e]),(0,g.jsxs)(g.Fragment,{children:[t&&!n&&(0,g.jsx)("p",{children:"Loading pleasure wait"}),n&&(0,g.jsxs)("p",{children:["Error: ",n]}),r.length?(0,g.jsx)("ul",{className:N,children:r.map((function(e){var t=e.name,n=e.phone,r=e.id;return(0,g.jsx)(D,{name:t,phone:n,id:r},r)}))}):(0,g.jsx)("p",{className:N,children:"No contacts to filter"})]})},z={formLabel:"Filter_formLabel__Ozoh5",boxInput:"Filter_boxInput__10x5g",iconsInput:"Filter_iconsInput__s5KJf"},E=n(5805),P=function(){var e=(0,a.useState)(""),t=(0,r.Z)(e,2),n=t[0],s=t[1],c=(0,h.I0)();return(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"Name",className:z.formLabel,children:"Find contacts by name"}),(0,g.jsxs)("div",{className:z.boxInput,children:[(0,g.jsx)("input",{type:"text",name:"filter",value:n,onChange:function(e){s(e.target.value),c((0,E.e)(e.target.value))},className:z.filterInput}),(0,g.jsx)(m.J,{id:"search",className:z.iconsInput})]})]})},R=n(2787),K=n(3101),O=n(8338),T=n(4390),V=n(7689),W=function(){var e=(0,h.I0)(),t=(0,V.s0)(),n=(0,h.v9)(K.R),r=(0,h.v9)(K.K);return T.h.defaults.headers.common.Authorization=r,console.log("profile :>> ",n),console.log("token :>> ",r),(0,a.useEffect)((function(){!n&&t("/")}),[n,t]),(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{children:n&&n.name}),(0,g.jsx)("button",{onClick:function(){return e((0,O.cJ)())},children:"Logout"})]})},q=(n(5462),function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.Ix,{autoClose:1500}),(0,g.jsx)(W,{}),(0,g.jsx)(R.D,{text:"Phonebook"}),(0,g.jsx)(C,{}),(0,g.jsx)(R.D,{text:"Contacts"}),(0,g.jsx)(P,{}),(0,g.jsx)(S,{})]})})}}]);
//# sourceMappingURL=938.e26d2b63.chunk.js.map